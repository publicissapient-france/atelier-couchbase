active_user :
    -map :
        function (doc, meta) {
          var userProfile = doc.userProfile;
          if (doc.active) {
            var output = {
              userId: meta.id,
              userName: userProfile.firstName + " " + userProfile.lastName,
              cityName: userProfile.address.city.name,
              active: doc.active
            };
            emit(userProfile.lastName, output);
          }
        }

inactive_user :
    -map :
        function (doc, meta) {
          var userProfile = doc.userProfile;
          if (!doc.active) {
            var output = {
              userId: meta.id,
              userName: userProfile.firstName + " " + userProfile.lastName,
              cityName: userProfile.address.city.name,
              active: doc.active
            };
            emit(userProfile.lastName, output);
          }
        }

number_of_active_user :
    -map :
        function (doc, meta) {
          var userProfile = doc.userProfile;
          if (!doc.active) {
            emit();
          }
        }

    -reduce :
        _count

user :
    -map :
        function (doc, meta) {
          var userProfile = doc.userProfile;
          var output = {
            userId: meta.id,
            userName: userProfile.firstName + " " + userProfile.lastName,
            cityName: userProfile.address.city.name,
            active: doc.active
          };
          emit(userProfile.lastName, output);
        }

